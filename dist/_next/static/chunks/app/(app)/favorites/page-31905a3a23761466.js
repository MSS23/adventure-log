(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6485],{15530:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},39867:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},42993:(e,t,s)=>{Promise.resolve().then(s.bind(s,88784))},57828:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},80003:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]])},86651:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},88784:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var a=s(95155),l=s(12115),r=s(24342),i=s(58415),c=s(95664),d=s(15530),n=s(21873),o=s(83457),x=s(71360),h=s(80003),m=s(86651),u=s(16485),p=s(57828),g=s(39867),j=s(86948),v=s(3998),N=s(11647),y=s(65142),f=s(13406),b=s(56517),w=s(18383),k=s(64269),A=s(52619),_=s.n(A),C=s(15239);function M(){let{favorites:e,loading:t,error:s,photoFavorites:A,albumFavorites:M,locationFavorites:L,removeFavorite:S}=(0,b.rB)(),[z,E]=(0,l.useState)(""),[Z,P]=(0,l.useState)("grid"),[W,F]=(0,l.useState)("all"),[$,T]=(0,l.useState)([]),X=e.filter(e=>{var t,s,a,l,r,i;let c=""===z||(null==(s=e.metadata)||null==(t=s.title)?void 0:t.toLowerCase().includes(z.toLowerCase()))||(null==(l=e.metadata)||null==(a=l.description)?void 0:a.toLowerCase().includes(z.toLowerCase()))||(null==(i=e.metadata)||null==(r=i.tags)?void 0:r.some(e=>e.toLowerCase().includes(z.toLowerCase()))),d="all"===W||e.target_type===W;return c&&d}),D=async()=>{try{await Promise.all($.map(t=>{let s=e.find(e=>e.id===t);if(s)return S(s.target_id,s.target_type)})),T([])}catch(e){console.error("Failed to remove favorites:",e)}};return t?(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,a.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"Loading your favorites..."})]})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(o.A,{className:"h-8 w-8 text-red-600"}),"Your Favorites"]}),(0,a.jsx)("p",{className:"text-gray-800 mt-2",children:"All your favorite photos, albums, and locations in one place"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[$.length>0&&(0,a.jsxs)(v.$,{variant:"outline",onClick:D,className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),"Remove Selected (",$.length,")"]}),(0,a.jsx)(v.$,{variant:"outline",size:"sm",onClick:()=>P("grid"===Z?"list":"grid"),children:"grid"===Z?(0,a.jsx)(h.A,{className:"h-4 w-4"}):(0,a.jsx)(d.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(j.Zp,{children:(0,a.jsx)(j.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-red-600",children:e.length}),(0,a.jsx)("div",{className:"text-sm text-gray-800 mt-1",children:"Total Favorites"})]})})}),(0,a.jsx)(j.Zp,{children:(0,a.jsx)(j.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:A.length}),(0,a.jsx)("div",{className:"text-sm text-gray-800 mt-1",children:"Photos"})]})})}),(0,a.jsx)(j.Zp,{children:(0,a.jsx)(j.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600",children:M.length}),(0,a.jsx)("div",{className:"text-sm text-gray-800 mt-1",children:"Albums"})]})})}),(0,a.jsx)(j.Zp,{children:(0,a.jsx)(j.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:L.length}),(0,a.jsx)("div",{className:"text-sm text-gray-800 mt-1",children:"Locations"})]})})})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(m.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-700"}),(0,a.jsx)(y.p,{placeholder:"Search favorites...",value:z,onChange:e=>E(e.target.value),className:"pl-10"})]}),(0,a.jsx)(f.tU,{value:W,onValueChange:e=>F(e),children:(0,a.jsxs)(f.j7,{children:[(0,a.jsx)(f.Xi,{value:"all",children:"All"}),(0,a.jsx)(f.Xi,{value:"photo",children:"Photos"}),(0,a.jsx)(f.Xi,{value:"album",children:"Albums"}),(0,a.jsx)(f.Xi,{value:"location",children:"Places"})]})})]}),s&&(0,a.jsx)(j.Zp,{className:"border-red-200 bg-red-50",children:(0,a.jsx)(j.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center text-red-600",children:[(0,a.jsx)("p",{className:"font-medium",children:"Failed to load favorites"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:s})]})})}),!t&&0===X.length&&(0,a.jsx)(j.Zp,{children:(0,a.jsx)(j.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.A,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:z||"all"!==W?"No matching favorites":"No favorites yet"}),(0,a.jsx)("p",{className:"text-gray-800 mb-6",children:z||"all"!==W?"Try adjusting your search or filters":"Start exploring and add some photos, albums, or locations to your favorites!"}),!z&&"all"===W&&(0,a.jsx)(_(),{href:"/dashboard",children:(0,a.jsx)(v.$,{children:"Explore Adventures"})})]})})}),X.length>0&&(0,a.jsx)(r.N,{children:(0,a.jsx)("div",{className:(0,k.cn)("gap-6","grid"===Z?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"space-y-4"),children:X.map((e,t)=>{var s,l,r,x,h;return(0,a.jsx)(i.P.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*t},children:(0,a.jsxs)(j.Zp,{className:(0,k.cn)("group hover:shadow-lg transition-all duration-300",$.includes(e.id)&&"ring-2 ring-blue-500","list"===Z&&"flex flex-row"),children:[(null==(s=e.metadata)?void 0:s.photo_url)&&(0,a.jsxs)("div",{className:(0,k.cn)("relative overflow-hidden bg-gray-100","grid"===Z?"aspect-video":"w-24 h-24 flex-shrink-0"),children:[(0,a.jsx)(C.default,{src:e.metadata.photo_url,alt:e.metadata.title||"Favorite item",fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-105"}),(0,a.jsx)("button",{onClick:()=>{var t;return t=e.id,void T(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"absolute top-2 left-2 w-6 h-6 rounded-full border-2 border-white bg-black/20 hover:bg-black/40 transition-colors flex items-center justify-center",children:$.includes(e.id)&&(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-600"})}),(0,a.jsxs)(N.E,{className:(0,k.cn)("absolute top-2 right-2 text-sm",(e=>{switch(e){case"photo":return"bg-blue-100 text-blue-800";case"album":return"bg-green-100 text-green-800";case"location":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(e.target_type)),children:[(e=>{switch(e){case"photo":return(0,a.jsx)(c.A,{className:"h-4 w-4"});case"album":return(0,a.jsx)(d.A,{className:"h-4 w-4"});case"location":return(0,a.jsx)(n.A,{className:"h-4 w-4"});default:return(0,a.jsx)(o.A,{className:"h-4 w-4"})}})(e.target_type),(0,a.jsx)("span",{className:"ml-1 capitalize",children:e.target_type})]})]}),(0,a.jsxs)("div",{className:(0,k.cn)("p-4 flex-1",!(null==(l=e.metadata)?void 0:l.photo_url)&&"pt-6"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:(null==(r=e.metadata)?void 0:r.title)||"".concat(e.target_type," ").concat(e.target_id.slice(0,8))}),(null==(x=e.metadata)?void 0:x.description)&&(0,a.jsx)("p",{className:"text-sm text-gray-800 mt-1 line-clamp-2",children:e.metadata.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)(u.A,{className:"h-3 w-3 text-gray-700"}),(0,a.jsxs)("span",{className:"text-sm text-gray-800",children:["Added ",new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),(null==(h=e.metadata)?void 0:h.tags)&&e.metadata.tags.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.metadata.tags.slice(0,3).map((e,t)=>(0,a.jsx)(N.E,{variant:"secondary",className:"text-sm",children:e},t)),e.metadata.tags.length>3&&(0,a.jsxs)(N.E,{variant:"outline",className:"text-sm",children:["+",e.metadata.tags.length-3]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-1 ml-2",children:(0,a.jsx)(w.OT,{targetId:e.target_id,targetType:e.target_type,className:"opacity-70 group-hover:opacity-100"})})]}),"list"===Z&&(0,a.jsx)("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(v.$,{variant:"ghost",size:"sm",children:[(0,a.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"View"]}),"photo"===e.target_type&&(0,a.jsxs)(v.$,{variant:"ghost",size:"sm",children:[(0,a.jsx)(g.A,{className:"h-3 w-3 mr-1"}),"Download"]})]})})]})]})},e.id)})})})]})}}},e=>{e.O(0,[4545,7559,2619,2738,8415,306,5667,7064,6869,4695,8441,1255,7358],()=>e(e.s=42993)),_N_E=e.O()}]);