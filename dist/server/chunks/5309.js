exports.id=5309,exports.ids=[5309],exports.modules={8052:(a,b,c)=>{Promise.resolve().then(c.bind(c,34595)),Promise.resolve().then(c.bind(c,14073))},14073:(a,b,c)=>{"use strict";c.d(b,{D:()=>g,ThemeProvider:()=>h});var d=c(21124),e=c(38301);c(56129);let f=(0,e.createContext)(void 0);function g(){let a=(0,e.useContext)(f);if(!a)throw Error("useTheme must be used within a ThemeProvider");return a}function h({children:a,defaultTheme:b="system"}){let[c,g]=(0,e.useState)(b),[h,i]=(0,e.useState)("light"),[j,k]=(0,e.useState)(!1),l="system"===c?h:c,m={theme:c,systemTheme:h,currentTheme:l,setTheme:g,toggleTheme:()=>{g("light"===l?"dark":"light")}};return j?(0,d.jsx)(f.Provider,{value:m,children:a}):(0,d.jsx)(f.Provider,{value:m,children:(0,d.jsx)("div",{style:{visibility:"hidden"},children:a})})}},20814:(a,b,c)=>{"use strict";c.d(b,{U:()=>g});var d=c(76055);let e="https://jjrqstbzzvqrgaqwdvxw.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpqcnFzdGJ6enZxcmdhcXdkdnh3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0ODc4MDcsImV4cCI6MjA3NDA2MzgwN30.aSHFHAA5Tv2EUDu7nxwOWXSFFUxbOUCR65Vi52QkjX4";if(!e||!f)throw Error("Missing Supabase environment variables");function g(){return(0,d.createBrowserClient)(e,f)}},22755:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>e});var d=c(97954);(0,d.registerClientReference)(function(){throw Error("Attempted to call useTheme() from the server but useTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\msidh\\Documents\\Adventure Log Application\\src\\lib\\contexts\\ThemeContext.tsx","useTheme");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\msidh\\Documents\\Adventure Log Application\\src\\lib\\contexts\\ThemeContext.tsx","ThemeProvider")},34595:(a,b,c)=>{"use strict";c.d(b,{ConditionalAuthProvider:()=>h});var d=c(21124),e=c(42378),f=c(69773);let g=["/","/login","/signup","/reset-password","/terms","/privacy"];function h({children:a}){let b=(0,e.usePathname)();return g.includes(b)?(0,d.jsx)(d.Fragment,{children:a}):(0,d.jsx)(f.O,{children:a})}},35501:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>m,metadata:()=>k,viewport:()=>l});var d=c(75338),e=c(94294),f=c.n(e),g=c(81464),h=c.n(g);c(61135);var i=c(65561),j=c(22755);let k={title:{default:"Adventure Log - Your Travel Story",template:"%s | Adventure Log"},description:"Transform your journeys into beautiful, shareable stories with our social travel platform. Capture memories, share adventures, and discover amazing destinations.",keywords:["travel","adventure","journeys","travel blog","social travel","travel stories","photo sharing","destinations","explore","wanderlust","travel community","travel planning"],authors:[{name:"Adventure Log Team"}],creator:"Adventure Log",publisher:"Adventure Log",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("http://localhost:3000"),alternates:{canonical:"/"},openGraph:{type:"website",locale:"en_US",url:"/",title:"Adventure Log - Your Travel Story",description:"Transform your journeys into beautiful, shareable stories with our social travel platform. Capture memories, share adventures, and discover amazing destinations.",siteName:"Adventure Log",images:[{url:"/og-image.png",width:1200,height:630,alt:"Adventure Log - Transform your journeys into beautiful stories",type:"image/png"},{url:"/og-image-square.png",width:1200,height:1200,alt:"Adventure Log - Social Travel Platform",type:"image/png"}]},twitter:{card:"summary_large_image",title:"Adventure Log - Your Travel Story",description:"Transform your journeys into beautiful, shareable stories with our social travel platform.",site:"@adventurelog",creator:"@adventurelog",images:["/twitter-image.png"]},robots:{index:!0,follow:!0,nocache:!1,googleBot:{index:!0,follow:!0,noimageindex:!1,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},verification:{google:process.env.GOOGLE_SITE_VERIFICATION,yandex:process.env.YANDEX_VERIFICATION,yahoo:process.env.YAHOO_SITE_VERIFICATION},category:"travel",classification:"Travel Social Platform",referrer:"origin-when-cross-origin",manifest:"/api/manifest",appleWebApp:{capable:!0,statusBarStyle:"default",title:"Adventure Log",startupImage:[{url:"/apple-touch-startup-image-768x1004.png",media:"(device-width: 768px) and (device-height: 1024px)"},{url:"/apple-touch-startup-image-1536x2008.png",media:"(device-width: 1536px) and (device-height: 2048px)"}]},applicationName:"Adventure Log",generator:"Next.js",other:{"mobile-web-app-capable":"yes","apple-mobile-web-app-capable":"yes","application-name":"Adventure Log","msapplication-TileColor":"#3b82f6","msapplication-config":"/browserconfig.xml","theme-color":"#ffffff"}},l={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,viewportFit:"cover",colorScheme:"light dark",themeColor:[{media:"(prefers-color-scheme: light)",color:"#ffffff"},{media:"(prefers-color-scheme: dark)",color:"#0a0a0a"}]};function m({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:(0,d.jsx)(j.ThemeProvider,{children:(0,d.jsx)(i.ConditionalAuthProvider,{children:a})})})})}},56129:(a,b,c)=>{"use strict";c.d(b,{OD:()=>e});var d=c(1022);class e{static{this.info=null}static getInfo(){if(!this.info){let a=d.Ii.getPlatform();this.info={isWeb:"web"===a,isNative:"web"!==a,isAndroid:"android"===a,isIOS:"ios"===a,platform:a}}return this.info}static isWeb(){return this.getInfo().isWeb}static isNative(){return this.getInfo().isNative}static isAndroid(){return this.getInfo().isAndroid}static isIOS(){return this.getInfo().isIOS}static getPlatform(){return this.getInfo().platform}static isCapabilityAvailable(a){let{isNative:b,isWeb:c}=this.getInfo();switch(a){case"camera":return b||c&&"MediaDevices"in window&&"getUserMedia"in navigator.mediaDevices;case"geolocation":return b||c&&"geolocation"in navigator;case"filesystem":return b||c&&"File"in window;case"share":return b||c&&"share"in navigator;case"toast":return!0;default:return!1}}static getUserAgent(){return"undefined"!=typeof navigator?navigator.userAgent:""}static isDevelopment(){return!1}static isStandalone(){let{isNative:a}=this.getInfo();return!!a}static getDeviceInfo(){let a=this.getInfo(),b=this.getUserAgent();return{...a,userAgent:b,isStandalone:this.isStandalone(),isDevelopment:this.isDevelopment(),hasTouch:!1,screen:null}}}},57618:(a,b,c)=>{"use strict";c.d(b,{Rm:()=>g});var d=function(a){return a[a.DEBUG=0]="DEBUG",a[a.INFO=1]="INFO",a[a.WARN=2]="WARN",a[a.ERROR=3]="ERROR",a}({});class e{constructor(){this.isDevelopment=!1,this.minLevel=+!this.isDevelopment}shouldLog(a){return a>=this.minLevel}formatTimestamp(){return new Date().toISOString()}createLogEntry(a,b,c,d){return{level:a,message:b,timestamp:this.formatTimestamp(),context:c,error:d}}formatConsoleMessage(a){let b=d[a.level],c=a.context?` [${Object.entries(a.context).map(([a,b])=>`${a}:${b}`).join(", ")}]`:"";return`[${a.timestamp}] ${b}${c}: ${a.message}`}logToConsole(a){if(!this.shouldLog(a.level))return;let b=this.formatConsoleMessage(a);switch(a.level){case 0:console.debug(b,a.error||"");break;case 1:console.info(b,a.error||"");break;case 2:console.warn(b,a.error||"");break;case 3:console.error(b,a.error||"")}}logToExternalService(a){this.isDevelopment||a.level}log(a,b,c,d){let e=this.createLogEntry(a,b,c,d);this.logToConsole(e),this.logToExternalService(e)}debug(a,b){this.log(0,a,b)}info(a,b){this.log(1,a,b)}warn(a,b,c){this.log(2,a,b,c)}error(a,b,c){this.log(3,a,b,c)}userAction(a,b,c){this.info(`User action: ${a}`,{component:"user-action",action:a,userId:b,...c})}apiCall(a,b,c){this.debug(`API call: ${b} ${a}`,{component:"api",endpoint:a,method:b,...c})}performance(a,b,c){this.info(`Performance: ${a} took ${b}ms`,{component:"performance",operation:a,duration:b,...c})}}let f=new e,g={debug:(a,b)=>f.debug(a,b),info:(a,b)=>f.info(a,b),warn:(a,b,c)=>f.warn(a,b,c),error:(a,b,c)=>f.error(a,b,c),userAction:(a,b,c)=>f.userAction(a,b,c),apiCall:(a,b,c)=>f.apiCall(a,b,c),performance:(a,b,c)=>f.performance(a,b,c)}},61135:()=>{},65561:(a,b,c)=>{"use strict";c.d(b,{ConditionalAuthProvider:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call ConditionalAuthProvider() from the server but ConditionalAuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\msidh\\Documents\\Adventure Log Application\\src\\components\\auth\\ConditionalAuthProvider.tsx","ConditionalAuthProvider")},69773:(a,b,c)=>{"use strict";c.d(b,{A:()=>j,O:()=>i});var d=c(21124),e=c(38301),f=c(20814),g=c(57618);let h=(0,e.createContext)(void 0);function i({children:a}){let[b,c]=(0,e.useState)(null),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(!0),[m,n]=(0,e.useState)(!1),o=(0,e.useRef)(new Map),p=(0,f.U)(),q=(0,e.useCallback)(async a=>{try{let b=a.replace(/-/g,"").substring(0,8),c=`user_${b}`,d={id:a,username:c,display_name:"New User",privacy_level:"public"},{data:e,error:f}=await p.from("profiles").insert(d).select().single();if(f){if(g.Rm.error("Profile creation error details",{component:"AuthProvider",action:"createProfile",userId:a,username:c,errorCode:f.code,errorMessage:f.message,errorDetails:f.details,errorHint:f.hint}),"23505"===f.code&&f.message.includes("username")){let c=Date.now().toString().slice(-4),e=`user_${b}_${c}`,{data:f,error:h}=await p.from("profiles").insert({...d,username:e}).select().single();if(h)return g.Rm.error("Error creating profile with fallback username",{component:"AuthProvider",action:"createProfile",userId:a,fallbackUsername:e,error:h}),null;return g.Rm.info("Profile created with fallback username",{component:"AuthProvider",action:"createProfile",userId:a,username:e}),f}if("23505"===f.code&&(f.message.includes("id")||f.message.includes("pkey"))){g.Rm.warn("Profile already exists, attempting to fetch existing profile",{component:"AuthProvider",action:"createProfile",userId:a});try{let{data:b,error:c}=await p.from("profiles").select("*").eq("id",a).single();if(!c&&b)return g.Rm.info("Successfully fetched existing profile after creation conflict",{component:"AuthProvider",action:"createProfile",userId:a}),b}catch(b){g.Rm.error("Failed to fetch existing profile after creation conflict",{component:"AuthProvider",action:"createProfile",userId:a,error:b})}}return g.Rm.error("Error creating profile",{component:"AuthProvider",action:"createProfile",userId:a,username:c,error:f}),null}return g.Rm.info("Profile created successfully",{component:"AuthProvider",action:"createProfile",userId:a,username:c}),e}catch(b){return g.Rm.error("Error creating profile",{component:"AuthProvider",action:"createProfile",userId:a},b instanceof Error?b:Error(String(b))),null}},[p]),r=(0,e.useCallback)(async(a,b=!0)=>{if(b){let b=o.current.get(a);if(b&&Date.now()-b.timestamp<b.ttl)return b.data}try{let{data:b,error:c}=await p.from("profiles").select("*").eq("id",a).single();if(c){if(g.Rm.error("Profile fetch error details",{component:"AuthProvider",action:"fetchProfile",userId:a,errorCode:c.code,errorMessage:c.message,errorDetails:c.details,errorHint:c.hint}),"PGRST116"===c.code||c.message.includes("No rows returned")){g.Rm.warn("Profile not found, attempting to create",{component:"AuthProvider",action:"fetchProfile",userId:a});let b=await q(a);if(b)return o.current.set(a,{data:b,timestamp:Date.now(),ttl:3e5}),b}else if(c.message.includes("406")||c.message.includes("Not Acceptable")){g.Rm.error("RLS policy blocking profile access",{component:"AuthProvider",action:"fetchProfile",userId:a,error:c.message});let b=await q(a);if(b)return o.current.set(a,{data:b,timestamp:Date.now(),ttl:3e5}),b}return g.Rm.error("Error fetching profile",{component:"AuthProvider",action:"fetchProfile",userId:a,error:c}),null}return o.current.set(a,{data:b,timestamp:Date.now(),ttl:3e5}),b}catch(b){return g.Rm.error("Error fetching profile",{component:"AuthProvider",action:"fetchProfile",userId:a},b instanceof Error?b:Error(String(b))),null}},[p,q]);(0,e.useCallback)(async a=>{n(!0);try{let b=await r(a);j(b)}finally{n(!1)}},[r]);let s=async()=>{if(b){n(!0);try{let a=await r(b.id,!1);j(a)}finally{n(!1)}}},t=async()=>{try{await p.auth.signOut(),c(null),j(null),n(!1),o.current.clear()}catch(a){g.Rm.error("Error signing out",{error:a})}};return(0,d.jsx)(h.Provider,{value:{user:b,profile:i,authLoading:k,profileLoading:m,signOut:t,refreshProfile:s},children:a})}function j(){let a=(0,e.useContext)(h);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},71668:(a,b,c)=>{Promise.resolve().then(c.bind(c,65561)),Promise.resolve().then(c.bind(c,22755))},75821:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))}};