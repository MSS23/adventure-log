"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9029],{11647:(e,a,t)=>{t.d(a,{E:()=>s});var i=t(95155);t(12115);var r=t(83101),n=t(64269);let o=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-sm font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:a,variant:t,...r}=e;return(0,i.jsx)("div",{className:(0,n.cn)(o({variant:t}),a),...r})}},39347:(e,a,t)=>{t.d(a,{A:()=>i});let i=(0,t(71847).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},54255:(e,a,t)=>{t.d(a,{A:()=>i});let i=(0,t(71847).A)("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]])},57172:(e,a,t)=>{t.d(a,{Et:()=>o,NC:()=>s,hS:()=>n,zc:()=>r});var i=t(82466);class r{static getErrorType(e){if(e instanceof Error){let a=e.message.toLowerCase();if(a.includes("fetch")||a.includes("network")||a.includes("connection"))return"network";if(a.includes("401")||a.includes("unauthorized")||a.includes("auth"))return"authentication";if(a.includes("403")||a.includes("forbidden"))return"authorization";if(a.includes("400")||a.includes("validation")||a.includes("invalid"))return"validation";if(a.includes("413")||a.includes("file")||a.includes("upload"))return"file_upload";if(a.includes("5")&&(a.includes("500")||a.includes("502")||a.includes("503")))return"database"}return"unknown"}static getUserMessage(e,a){switch(e){case"network":return"Connection failed. Please check your internet connection and try again.";case"authentication":return"Authentication required. Please sign in and try again.";case"authorization":return"You don't have permission to perform this action.";case"validation":return"Invalid data provided. Please check your input and try again.";case"file_upload":if(a.includes("413")||a.includes("large"))return"File is too large. Please choose a smaller file.";if(a.includes("type")||a.includes("format"))return"File type not supported. Please choose a different file.";return"File upload failed. Please try again.";case"database":return"Service temporarily unavailable. Please try again in a moment.";case"external_api":return"External service unavailable. Some features may be temporarily limited.";default:return"Something went wrong. Please try again."}}static isRetryable(e){return["network","database","external_api"].includes(e)}static isRecoverable(e){return["network","validation","file_upload","database","external_api"].includes(e)}static handle(e,a){let t=this.getErrorType(e),r=e instanceof Error?e.message:String(e),n=this.getUserMessage(t,r),o={type:t,message:r,userMessage:n,originalError:e,context:a,recoverable:this.isRecoverable(t),retryable:this.isRetryable(t)};switch(t){case"validation":case"network":case"external_api":i.Rm.warn(r,a,e);break;default:i.Rm.error(r,a,e)}return o}static async handleAsync(e,a,t){try{return{data:await e()}}catch(e){return{error:this.handle(e,a),data:t}}}static handleSync(e,a,t){try{return{data:e()}}catch(e){return{error:this.handle(e,a),data:t}}}}let n=(e,a)=>r.handle(e,{...a,action:"api-".concat(a.action)}),o=(e,a)=>r.handle(e,{...a,action:"upload-".concat(a.action)}),s=(e,a)=>r.handle(e,{...a,action:"form-".concat(a.action)})},99029:(e,a,t)=>{t.d(a,{f:()=>M});var i=t(95155),r=t(12115),n=t(3998),o=t(65142),s=t(86948),l=t(11647),c=t(39347),d=t(39068),u=t(21873),p=t(86651),m=t(65229),h=t(35299),g=t(76561),f=t(54255),y=t(64269),A=t(62890);function x(e,a){let t=[];return(e<-90||e>90)&&t.push("Latitude must be between -90 and 90 degrees"),(a<-180||a>180)&&t.push("Longitude must be between -180 and 180 degrees"),0===e&&0===a&&t.push("Coordinates cannot be at null island (0, 0)"),{isValid:0===t.length,errors:t}}function b(e){if(!e)return{isValid:!1,errors:["Location data is required"]};let a=[];return e.display_name&&0!==e.display_name.trim().length||a.push("Location name is required"),a.push(...x(e.latitude,e.longitude).errors),e.display_name&&e.display_name.length>500&&a.push("Location name is too long (maximum 500 characters)"),{isValid:0===a.length,errors:a}}function E(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;return"".concat(e.toFixed(t),", ").concat(a.toFixed(t))}function v(e){return e.trim().replace(/[<>\"']/g,"").substring(0,500)}var N=t(82466),S=t(57172);class _{static getFocusableElements(e){return Array.from(e.querySelectorAll(this.focusableSelectors))}static getFirstFocusableElement(e){let a=this.getFocusableElements(e);return a.length>0?a[0]:null}static getLastFocusableElement(e){let a=this.getFocusableElements(e);return a.length>0?a[a.length-1]:null}static trapFocus(e,a){if("Tab"!==a.key)return;let t=this.getFocusableElements(e);if(0===t.length)return;let i=t[0],r=t[t.length-1];a.shiftKey?document.activeElement===i&&(a.preventDefault(),r.focus()):document.activeElement===r&&(a.preventDefault(),i.focus())}static restoreFocus(e){e&&"function"==typeof e.focus&&requestAnimationFrame(()=>{e.focus()})}}_.focusableSelectors='button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], [tabindex]:not([tabindex="-1"]), [contenteditable="true"]';class w{static getInstance(){return this.instance||(this.instance=new w),this.instance}ensureRegionsExist(){this.politeRegion||(this.politeRegion=this.createLiveRegion("polite")),this.assertiveRegion||(this.assertiveRegion=this.createLiveRegion("assertive"))}createLiveRegion(e){let a=document.createElement("div");return a.setAttribute("aria-live",e),a.setAttribute("aria-atomic","true"),a.style.cssText="\n      position: absolute;\n      left: -10000px;\n      width: 1px;\n      height: 1px;\n      overflow: hidden;\n    ",document.body.appendChild(a),a}announce(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite";this.ensureRegionsExist();let t="polite"===a?this.politeRegion:this.assertiveRegion;t&&(t.textContent="",setTimeout(()=>{t.textContent=e},100))}constructor(){this.politeRegion=null,this.assertiveRegion=null}}let j=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite";w.getInstance().announce(e,a)},C=[{id:1,name:"Paris",country:"France",latitude:48.8566,longitude:2.3522,airport_code:"CDG",city_type:"capital",region:"Europe"},{id:2,name:"Tokyo",country:"Japan",latitude:35.6762,longitude:139.6503,airport_code:"NRT",city_type:"capital",region:"Asia"},{id:3,name:"New York City",country:"United States",latitude:40.7128,longitude:-74.006,airport_code:"JFK",city_type:"city",region:"North America"},{id:4,name:"London",country:"United Kingdom",latitude:51.5074,longitude:-.1278,airport_code:"LHR",city_type:"capital",region:"Europe"},{id:5,name:"Rome",country:"Italy",latitude:41.9028,longitude:12.4964,airport_code:"FCO",city_type:"capital",region:"Europe"},{id:6,name:"Barcelona",country:"Spain",latitude:41.3851,longitude:2.1734,airport_code:"BCN",city_type:"city",region:"Europe"},{id:7,name:"Amsterdam",country:"Netherlands",latitude:52.3676,longitude:4.9041,airport_code:"AMS",city_type:"capital",region:"Europe"},{id:8,name:"Sydney",country:"Australia",latitude:-33.8688,longitude:151.2093,airport_code:"SYD",city_type:"city",region:"Oceania"},{id:9,name:"Dubai",country:"United Arab Emirates",latitude:25.2048,longitude:55.2708,airport_code:"DXB",city_type:"city",region:"Middle East"},{id:10,name:"Singapore",country:"Singapore",latitude:1.3521,longitude:103.8198,airport_code:"SIN",city_type:"capital",region:"Asia"},{id:11,name:"Bangkok",country:"Thailand",latitude:13.7563,longitude:100.5018,airport_code:"BKK",city_type:"capital",region:"Asia"},{id:12,name:"Istanbul",country:"Turkey",latitude:41.0082,longitude:28.9784,airport_code:"IST",city_type:"city",region:"Europe"},{id:13,name:"Los Angeles",country:"United States",latitude:34.0522,longitude:-118.2437,airport_code:"LAX",city_type:"city",region:"North America"},{id:14,name:"Bali",country:"Indonesia",latitude:-8.3405,longitude:115.092,airport_code:"DPS",city_type:"island",region:"Asia"},{id:15,name:"S\xe3o Paulo",country:"Brazil",latitude:-23.5505,longitude:-46.6333,airport_code:"GRU",city_type:"city",region:"South America"},{id:16,name:"Mumbai",country:"India",latitude:19.076,longitude:72.8777,airport_code:"BOM",city_type:"city",region:"Asia"},{id:17,name:"Cairo",country:"Egypt",latitude:30.0444,longitude:31.2357,airport_code:"CAI",city_type:"capital",region:"Africa"},{id:18,name:"Cape Town",country:"South Africa",latitude:-33.9249,longitude:18.4241,airport_code:"CPT",city_type:"city",region:"Africa"}],R=["Europe","Asia","North America","South America","Africa","Oceania","Middle East"];function M(e){let{value:a,onChange:t,placeholder:_="Search destinations or pick a popular one...",className:w,allowCurrentLocation:M=!0,showPopularDestinations:L=!0}=e,[T,k]=(0,r.useState)(""),[F,I]=(0,r.useState)([]),[P,B]=(0,r.useState)(!1),[D,U]=(0,r.useState)(!1),[O,G]=(0,r.useState)(!1),[K,H]=(0,r.useState)(null),[,V]=(0,r.useState)(0),[Z,z]=(0,r.useState)([]),[J,Y]=(0,r.useState)(null),[,W]=(0,r.useState)(-1),q=(0,r.useRef)(null),X=(0,r.useRef)(null),Q=(0,A.UU)(),{currentIndex:$}=function(e,a){let t=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=(0,r.useRef)(-1),n=(0,r.useCallback)(r=>{if(t&&0!==e.length)switch(r.key){case"ArrowDown":r.preventDefault(),i.current=Math.min(i.current+1,e.length-1);break;case"ArrowUp":r.preventDefault(),i.current=Math.max(i.current-1,0);break;case"Home":r.preventDefault(),i.current=0;break;case"End":r.preventDefault(),i.current=e.length-1;break;case"Enter":case" ":r.preventDefault(),i.current>=0&&a(e[i.current],i.current);break;case"Escape":r.preventDefault(),i.current=-1}},[e,a,t]);return(0,r.useEffect)(()=>{if(t)return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[n,t]),{currentIndex:i.current,setCurrentIndex:e=>{i.current=e}}}(D?F.map(e=>e.display_name):Z.map(e=>e.name),(e,a)=>{if(D){let e=F[a];e&&ee(e)}else{let e=Z[a];e&&ea(e)}},D||L&&Z.length>0);(0,r.useEffect)(()=>{W($)},[$]);let ee=(0,r.useCallback)(e=>{t({latitude:parseFloat(e.lat),longitude:parseFloat(e.lon),display_name:e.display_name,place_id:e.place_id}),k(e.display_name),U(!1),W(-1),j("Selected location: ".concat(e.display_name))},[t]),ea=(0,r.useCallback)(e=>{t({latitude:e.latitude,longitude:e.longitude,display_name:e.name,city_id:e.id}),k(e.name),U(!1),W(-1),j("Selected location: ".concat(e.name))},[t]);(0,r.useEffect)(()=>{(null==a?void 0:a.display_name)?k(a.display_name):k("")},[a]),(0,r.useEffect)(()=>{let e=async()=>{try{let{data:e}=await Q.from("cities").select("\n            id,\n            name,\n            latitude,\n            longitude,\n            airport_code,\n            city_type,\n            country_code,\n            is_major_destination\n          ").eq("is_major_destination",!0).order("population",{ascending:!1}).limit(50);if(e){let a=e.map(e=>{var a,t;return{id:e.id,name:e.name,country:({US:"United States",GB:"United Kingdom",FR:"France",DE:"Germany",IT:"Italy",ES:"Spain",JP:"Japan",AU:"Australia",CA:"Canada",BR:"Brazil",IN:"India",CN:"China",RU:"Russia",ZA:"South Africa",EG:"Egypt",MX:"Mexico",AR:"Argentina",TH:"Thailand",SG:"Singapore",AE:"United Arab Emirates",TR:"Turkey",GR:"Greece",NL:"Netherlands",CH:"Switzerland",AT:"Austria",BE:"Belgium",SE:"Sweden",NO:"Norway",DK:"Denmark",FI:"Finland",PL:"Poland",CZ:"Czech Republic",HU:"Hungary",PT:"Portugal",IE:"Ireland",IS:"Iceland",KR:"South Korea",MY:"Malaysia",ID:"Indonesia",PH:"Philippines",VN:"Vietnam",NZ:"New Zealand",HK:"Hong Kong",MV:"Maldives",SC:"Seychelles",BB:"Barbados",BS:"Bahamas",JM:"Jamaica",AW:"Aruba",CW:"Cura\xe7ao",FJ:"Fiji",MA:"Morocco",PE:"Peru",CL:"Chile",CO:"Colombia",EC:"Ecuador"})[a=e.country_code]||a||"",latitude:e.latitude,longitude:e.longitude,airport_code:e.airport_code,city_type:e.city_type,region:({AD:"Europe",AL:"Europe",AT:"Europe",BA:"Europe",BE:"Europe",BG:"Europe",BY:"Europe",CH:"Europe",CZ:"Europe",DE:"Europe",DK:"Europe",EE:"Europe",ES:"Europe",FI:"Europe",FR:"Europe",GB:"Europe",GR:"Europe",HR:"Europe",HU:"Europe",IE:"Europe",IS:"Europe",IT:"Europe",LI:"Europe",LT:"Europe",LU:"Europe",LV:"Europe",MC:"Europe",MD:"Europe",ME:"Europe",MK:"Europe",MT:"Europe",NL:"Europe",NO:"Europe",PL:"Europe",PT:"Europe",RO:"Europe",RS:"Europe",RU:"Europe",SE:"Europe",SI:"Europe",SK:"Europe",SM:"Europe",TR:"Europe",UA:"Europe",VA:"Europe",AF:"Asia",AM:"Asia",AZ:"Asia",BD:"Asia",BN:"Asia",BT:"Asia",CN:"Asia",GE:"Asia",ID:"Asia",IL:"Asia",IN:"Asia",IQ:"Asia",IR:"Asia",JO:"Asia",JP:"Asia",KG:"Asia",KH:"Asia",KP:"Asia",KR:"Asia",KZ:"Asia",LA:"Asia",LB:"Asia",LK:"Asia",MM:"Asia",MN:"Asia",MV:"Asia",MY:"Asia",NP:"Asia",PH:"Asia",PK:"Asia",PS:"Asia",SG:"Asia",SY:"Asia",TH:"Asia",TJ:"Asia",TL:"Asia",TM:"Asia",UZ:"Asia",VN:"Asia",YE:"Asia",CA:"North America",US:"North America",MX:"North America",BZ:"North America",CR:"North America",CU:"North America",DO:"North America",GT:"North America",HN:"North America",HT:"North America",JM:"North America",NI:"North America",PA:"North America",SV:"North America",TT:"North America",AR:"South America",BO:"South America",BR:"South America",CL:"South America",CO:"South America",EC:"South America",FK:"South America",GF:"South America",GY:"South America",PE:"South America",PY:"South America",SR:"South America",UY:"South America",VE:"South America",DZ:"Africa",AO:"Africa",BJ:"Africa",BW:"Africa",BF:"Africa",BI:"Africa",CM:"Africa",CV:"Africa",CF:"Africa",TD:"Africa",KM:"Africa",CG:"Africa",CD:"Africa",CI:"Africa",DJ:"Africa",EG:"Africa",GQ:"Africa",ER:"Africa",ET:"Africa",GA:"Africa",GM:"Africa",GH:"Africa",GN:"Africa",GW:"Africa",KE:"Africa",LS:"Africa",LR:"Africa",LY:"Africa",MG:"Africa",MW:"Africa",ML:"Africa",MR:"Africa",MU:"Africa",MA:"Africa",MZ:"Africa",NA:"Africa",NE:"Africa",NG:"Africa",RW:"Africa",ST:"Africa",SN:"Africa",SC:"Africa",SL:"Africa",SO:"Africa",ZA:"Africa",SS:"Africa",SD:"Africa",SZ:"Africa",TZ:"Africa",TG:"Africa",TN:"Africa",UG:"Africa",ZM:"Africa",ZW:"Africa",AU:"Oceania",FJ:"Oceania",KI:"Oceania",MH:"Oceania",FM:"Oceania",NR:"Oceania",NZ:"Oceania",PW:"Oceania",PG:"Oceania",WS:"Oceania",SB:"Oceania",TO:"Oceania",TV:"Oceania",VU:"Oceania",AE:"Middle East",SA:"Middle East",QA:"Middle East",KW:"Middle East",BH:"Middle East",OM:"Middle East"})[null==(t=e.country_code||"")?void 0:t.toUpperCase()]||"Other"}});z(a)}}catch(e){N.Rm.error("Failed to load cities from database",{component:"LocationDropdown",action:"load-cities"},e),z(C)}};L&&e()},[L,Q]),(0,r.useEffect)(()=>(q.current&&clearTimeout(q.current),T.length>=2?q.current=setTimeout(()=>{et(T)},300):(I([]),0===T.length&&U(L)),()=>{q.current&&clearTimeout(q.current)}),[T,L]);let et=async e=>{if(e.trim()){B(!0),H(null);try{let a=await fetch("https://nominatim.openstreetmap.org/search?"+new URLSearchParams({q:e,format:"json",limit:"8",dedupe:"1","accept-language":"en",addressdetails:"1"}));if(!a.ok)throw Error("Failed to search locations");let t=await a.json();I(t),U(!0)}catch(a){H((0,S.hS)(a,{component:"LocationDropdown",action:"search-location",query:e}).userMessage),I([])}finally{B(!1)}}},ei=J?(Z.length>0?Z:C).filter(e=>e.region===J):(Z.length>0?Z:C).slice(0,12);return(0,i.jsxs)("div",{className:(0,y.cn)("relative",w),children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)("div",{className:"relative flex-1",children:[(0,i.jsx)(p.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-700"}),(0,i.jsx)(o.p,{ref:X,type:"text",value:T,onChange:e=>{let a=v(e.target.value);k(a),a.trim()||(t(null),U(L),H(null))},onFocus:()=>{0===T.length&&L?U(!0):F.length>0&&U(!0)},placeholder:_,className:"pl-10 pr-10","aria-label":"Location search","aria-expanded":D,"aria-haspopup":"listbox",role:"combobox"}),T&&(0,i.jsx)("button",{type:"button",onClick:()=>{var e;t(null),k(""),U(L),null==(e=X.current)||e.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-100 rounded","aria-label":"Clear location",children:(0,i.jsx)(m.A,{className:"h-3 w-3 text-gray-700"})}),P&&(0,i.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,i.jsx)(h.A,{className:"h-4 w-4 animate-spin text-gray-700"})})]}),M&&(0,i.jsx)(n.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{if(!navigator.geolocation)return void H("Geolocation is not supported by your browser");G(!0),H(null),navigator.geolocation.getCurrentPosition(async e=>{let{latitude:a,longitude:i}=e.coords;try{let e=await fetch("https://nominatim.openstreetmap.org/reverse?"+new URLSearchParams({lat:a.toString(),lon:i.toString(),format:"json","accept-language":"en"}));if(e.ok){let r=await e.json(),n={latitude:a,longitude:i,display_name:r.display_name||"".concat(a.toFixed(6),", ").concat(i.toFixed(6)),place_id:r.place_id};t(n),k(n.display_name),U(!1)}else{let e={latitude:a,longitude:i,display_name:"".concat(a.toFixed(6),", ").concat(i.toFixed(6))};t(e),k(e.display_name),U(!1)}}catch(r){N.Rm.error("Reverse geocoding failed",{component:"LocationDropdown",action:"reverse-geocode",latitude:a,longitude:i},r);let e={latitude:a,longitude:i,display_name:"".concat(a.toFixed(6),", ").concat(i.toFixed(6))};t(e),k(e.display_name),U(!1)}G(!1)},e=>{let a=S.zc.handle(e,{component:"LocationDropdown",action:"get-current-location",errorCode:e.code}).userMessage;switch(e.code){case e.PERMISSION_DENIED:a="Location access denied. Please enable location permissions.";break;case e.POSITION_UNAVAILABLE:a="Location information unavailable. Please try again.";break;case e.TIMEOUT:a="Location request timed out. Please try again."}H(a),G(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},disabled:O,title:"Use current location","aria-label":"Use current location",children:O?(0,i.jsx)(h.A,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(g.A,{className:"h-4 w-4"})})]}),K&&(0,i.jsx)("div",{className:"flex items-start gap-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-600",children:(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("p",{children:K}),K.includes("internet connection")&&(0,i.jsx)("button",{onClick:()=>{H(null),V(0),T.length>=2&&et(T)},className:"mt-1 text-red-700 underline hover:no-underline",children:"Try again"})]})}),a&&(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-800",children:[(0,i.jsx)(u.A,{className:"h-3 w-3"}),(0,i.jsx)("span",{children:E(a.latitude,a.longitude)})]})]}),D&&(0,i.jsx)(s.Zp,{className:"absolute top-full left-0 right-0 z-50 mt-1 max-h-96 overflow-hidden",children:(0,i.jsxs)(s.Wu,{className:"p-0",children:[T.length>=2&&F.length>0&&(0,i.jsxs)("div",{className:"border-b border-gray-200",children:[(0,i.jsx)("div",{className:"p-3 bg-gray-50 border-b",children:(0,i.jsxs)("h4",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,i.jsx)(p.A,{className:"h-4 w-4"}),"Search Results"]})}),(0,i.jsx)("div",{className:"max-h-48 overflow-y-auto",children:F.map(e=>{var a;return(0,i.jsx)("button",{type:"button",className:"w-full text-left p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",onClick:()=>(e=>{var a;let i=parseFloat(e.lat),r=parseFloat(e.lon);if(!(x(i,r).isValid&&!(i<-60)&&1))return void H("Selected location has invalid coordinates. Please choose a different location.");let n={latitude:i,longitude:r,display_name:v(e.display_name),place_id:e.place_id},o=b(n);if(!o.isValid)return void H("Invalid location: ".concat(o.errors.join(", ")));t(n),k(n.display_name),U(!1),H(null),null==(a=X.current)||a.blur()})(e),children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)(u.A,{className:"h-4 w-4 text-gray-700 mt-0.5 flex-shrink-0"}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("p",{className:"font-medium text-gray-900 line-clamp-1",children:(a=e.display_name).length>60?a.substring(0,60)+"...":a}),(0,i.jsx)("p",{className:"text-sm text-gray-800",children:E(parseFloat(e.lat),parseFloat(e.lon),4)})]})]})},e.place_id)})})]}),L&&(0===T.length||0===F.length)&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"p-3 bg-gray-50 border-b",children:[(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("h4",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,i.jsx)(c.A,{className:"h-4 w-4 text-yellow-500"}),"Popular Destinations"]})}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[(0,i.jsx)(n.$,{type:"button",variant:null===J?"default":"outline",size:"sm",onClick:()=>Y(null),className:"h-6 text-sm",children:"All"}),R.map(e=>(0,i.jsx)(n.$,{type:"button",variant:J===e?"default":"outline",size:"sm",onClick:()=>Y(e),className:"h-6 text-sm",children:e},e))]})]}),(0,i.jsx)("div",{className:"max-h-64 overflow-y-auto",children:(0,i.jsx)("div",{className:"grid grid-cols-1 gap-0",children:ei.map(e=>(0,i.jsx)("button",{type:"button",className:"w-full text-left p-3 hover:bg-blue-50 transition-colors border-b border-gray-100 last:border-b-0",onClick:()=>(e=>{var a;let i={latitude:e.latitude,longitude:e.longitude,display_name:"".concat(e.name,", ").concat(e.country),city_id:e.id},r=b(i);if(!r.isValid)return void H("Invalid destination: ".concat(r.errors.join(", ")));t(i),k(i.display_name),U(!1),H(null),null==(a=X.current)||a.blur()})(e),children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(e=>{switch(e){case"capital":return(0,i.jsx)(c.A,{className:"h-3 w-3 text-yellow-500"});case"island":return(0,i.jsx)(d.A,{className:"h-3 w-3 text-blue-500"});default:return(0,i.jsx)(u.A,{className:"h-3 w-3 text-gray-800"})}})(e.city_type),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,i.jsx)("p",{className:"text-sm text-gray-800",children:e.country})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[e.airport_code&&(0,i.jsxs)(l.E,{variant:"outline",className:"text-sm",children:[(0,i.jsx)(f.A,{className:"h-2 w-2 mr-1"}),e.airport_code]}),(0,i.jsx)(l.E,{variant:"secondary",className:"text-sm",children:e.region})]})]})},e.id))})})]}),T.length>=2&&0===F.length&&!P&&(0,i.jsxs)("div",{className:"p-6 text-center",children:[(0,i.jsx)(u.A,{className:"h-8 w-8 mx-auto mb-2 text-gray-700"}),(0,i.jsxs)("p",{className:"text-gray-800",children:['No locations found for "',T,'"']}),(0,i.jsx)("p",{className:"text-sm text-gray-800 mt-1",children:"Try a different search term or pick from popular destinations"})]})]})})]})}}}]);